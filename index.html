<form id="okakeibo" action="https://docs.google.com/forms/d/e/1FAIpQLSeLQ4pQ5xdWzNzDAR3whyzE7lijRt64BwTVLqTx5L49NTB7Hw/formResponse" method="POST" target="hidden_iframe" onsubmit="submitForm()">
  <label>店舗 名称 金額 記号:</label><input type="text" id="text01" name="entry.1752744726"><br>
  <label>決済手段01:</label>
  <select name="entry.799936107" id="pulldown" onchange="showOtherOption(this.value)">
    <option value="6gram">MIXIM</option>
    <option value="Suica">Suica</option>
    <option value="PayPay">PayPay</option>
    <option value="エポス">エポス</option>
    <option value="その他">その他</option>
    <option value="現金">現金</option> 
    <option value="Revolut">Revolut</option>
    <option value="セゾンパール">セゾンパール</option>
    <option value="アマギフ">アマギフ</option>
    <option value="親（借金）">借金</option>
    <option value="三井住友銀行">三井住友銀行</option>   
  </select><br>
  <div id="otherOption" style="display:none">
    <label>その他決済:</label><input type="text" id="pulldown02" name="entry.799936107"><br>
  </div>
  <label>メインカテゴリ:</label><br>
  <input type="radio" name="mainCategory" value="食費" onchange="showSubCategory(this.value)">食費<br>
  <input type="radio" name="mainCategory" value="趣味" onchange="showSubCategory(this.value)">趣味<br>
  <input type="radio" name="mainCategory" value="その他" onchange="showSubCategory(this.value)">その他<br>
  <div id="subCategory" style="display: none;">
    <label>サブカテゴリ:</label><br>
    <div id="食費" style="display: none;">
      <input type="radio" name="subCategory" value="雑費">雑費<br>
      <input type="radio" name="subCategory" value="学食">学食<br>
      <input type="radio" name="subCategory" value="プライベート">プライベート<br>
      <input type="radio" name="subCategory" value="集団">集団<br>
    </div>
    <div id="趣味" style="display: none;">
      <input type="radio" name="subCategory" value="服">服<br>
      <input type="radio" name="subCategory" value="機械">機械<br>
      <input type="radio" name="subCategory" value="もみじ">もみじ<br>
    </div>
  <div id="その他" style="display:none">
      <label></label><input type="text" id="subCategory02" name="entry.1729500685"><br>
    </div>
  </div>
  <label>タグ</label><input type="text" id="text02" name="entry.154782597"><br>
  <input type="hidden" name="entry.1928626912" id="entry0003" value="">
  <input type="hidden" name="entry.1729500685" id="entry0004" value="">
  <input type="submit" value="送信" id="submitBtn" onclick="myFunction0001()">
  <iframe name="hidden_iframe" style="display:none" ></iframe>
</form>



<script>
function showOtherOption(value) {
  var otherOption = document.getElementById("otherOption");
  var pulldown = document.getElementById("pulldown")
  var pulldown02 = document.getElementById("pulldown02")

  if (value === "その他") {
    otherOption.style.display = "block";
    pulldown.name = "";
    pulldown02.name = "entry.799936107";

  } else {
    otherOption.style.display = "none";
    pulldown.name = "entry.799936107";
    pulldown02.name = "";

  }
}

	//完成20230310
	
</script>

<script>
  function showSubCategory(mainCategory) {
    var subCategory1 = document.getElementById("subCategory");
    subCategory1.style.display = "block";
    var subCategories1 = document.getElementsByName("subCategory");
    for (var i = 0; i < subCategories1.length; i++) {
      subCategories1[i].parentElement.style.display = "none";
    }
    document.getElementById(mainCategory).style.display = "block";

    //subCategoryを変更したらリセットします
    for (const element of document.getElementsByName("subCategory")) {
    element.checked = false;
    }
    document.getElementById("subCategory02").value = "";
  

    var otherOption02 = document.getElementById("その他");
    var radio02 = document.getElementsByName("subCategory")
    var radio03 = document.getElementById("subCatefory02")
    if (mainCategory === "その他") {
      otherOption02.style.display = "block";
      radio02.name = "";
      radio03.name = "entry.1729500685";

    } else {
      otherOption02.style.display = "none";
      radio02.name = "entry.1729500685";
      radio03.name = "";

    }
  
  
  	// 「subCategory」というname属性を持つラジオボタンのみを選択し、
		// それらのcheckedプロパティをfalseに設定します。
		var subCategoryRadios = document.getElementsByName("subCategoryxxxxx");
		for (var i = 0; i < subCategoryRadios.length; i++) {
			subCategoryRadios[i].checked = false;
		}

   
 
 
 }
	


</script>
<script>
  function submitForm() {
    var mainCategory = document.querySelector('input[name="mainCategory"]:checked');
    var subCategory2 = document.querySelector('input[name="subCategory"]:checked');
    if(mainCategory){
        document.getElementById("entry0003").value = mainCategory.value;
    }
    if(subCategory2) {
        document.getElementById("entry0004").value = subCategory2.value;
    }
  }
</script>
<script>
function myFunction0001() {
  submitForm01();
  changeBtnColor();

 

}
</script>



<script>
  function changeBtnColor() {
    // ボタンの背景色を青色に変更
  document.getElementById("submitBtn").style.backgroundColor = "#00ccff";
  
  // 3秒間で右から左に背景色を流す
  var width = 100;
  var animationInterval = setInterval(function() {
    if (width <= 0) {
      clearInterval(animationInterval);
      // ボタンの背景色を緑色に戻す
      document.getElementById("submitBtn").style.backgroundColor = "#4CAF50";
    } else {
      width--;
      document.getElementById("submitBtn").style.backgroundImage = "linear-gradient(to left, #00ccff " + width + "%, #4CAF50 " + width + "%)";
    }
  }, 30);
  }
</script>

<script>
  function submitForm01() {
   
    // submitボタンを無効化する

    setTimeout(function() {
      document.getElementById("submitBtn").disabled = true;
    }, 1);


    // 0.1秒後から3秒後までsubmitボタンを無効化する
    setTimeout(function() {
      document.getElementById("submitBtn").disabled = false;
    }, 3000);

    //1秒後にフォームをリセットする
    setTimeout(function(){
      document.getElementById("text01").value = "";
    }, 1000);

  }
</script>

<style>
form {
  width: 400px;
  margin: 0 auto;
  text-align: left;
}

label {
  font-size: 30px;
  font-weight: bold;
  margin-right: 10px;
}

input[id="text01"], select {
  height: 50px;
  width: 600px;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
}

input[id="pulldown"], select {
  height: 50px;
  width: 162px;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
}

input[id="otherOption"], select {
  height: 50px;
  width: 162px;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
}

input[id="その他"], select {
  height: 50px;
  width: 162px;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
}

input[type="submit"] {
    background-color: #4CAF50;
    color: white;
    padding: 60px 200px;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    background-image: linear-gradient(to left, #4CAF50, #4CAF50);
    background-size: 200% 100%;
    transition: background-position 0.3s;
  }
#otherOption {
  display: none;
}

#subCategory {
  display: none;
}

#食費, #趣味 {
  display: none;
}

</style>